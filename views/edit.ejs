<% layout('layout/boilerplate')%>

<div class="row">
    <h1 class="text-center">

    </h1>
    <div class="col-6 offset-3">
        <body>

            <h1>Edit campground: <%= camp.title %></h1>
            <form action="/campgrounds/<%= camp._id %>?_met=PUT" method="post" novalidate class='validated-form' enctype="multipart/form-data" >
                <div class='mb-3'>
                    <label class="form-label" for="title">Campground name:</label>
                    <input type="text" class="form-control" name="campground[title]" id="title" value="<%= camp.title %>" required  >
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                
                <div class='mb-3'>
                    <label for="location" class="form-label">  Campground location:</label>
                    <input type="text" class="form-control" name="campground[location]" id="location" value="<%= camp.location %>"  required  >
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class='mb-3'>
                    <label for="image" class="form-label">Add images:</label>
                    <input type="file" class="form-control" name="image" id="image" multiple>
                    
                </div>
                
                <div class='mb-3'>
                    <label for="price" class="form-label">  Campground price:</label>
                    <div class="input-group">
                        <span class="input-group-text">Rs/night</span>
                        
                        <input type="text" class="form-control" name="campground[price]" id="price" value="<%= camp.price %>" min="1000" required >
                        <div class="valid-feedback">
                            Looks good!
                        </div>
                    </div>
                </div>
                
                <div class='mb-3'>
                    <label for="description" class="form-label">  Campground description:</label>
                    <textarea type="text-area" class="form-control" name="campground[description]" id="description" required  ><%= camp.description %> </textarea>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class="mb-3">
                    <% camp.images.forEach(function (img,i) { %>
                        <div class="col-6">
                            <div class="form-check-inline">
                                <input type="checkbox" id="image-<%=i%>" name="deleteImages[]" value="<%=img.filename %>">
                            </div>
                            <label for="image-<%=i%>">Delete</label>
                            <img src="<%=img.thumbnail%>" class="img-thumbnail mb-3" alt="">
                        </div>
                        
                   <%  }) %>
                </div>
                <div class="mb-3">
                    <button class="btn btn-success" type="submit">Save changes</button>
                </div>

            </form>
            
            <form action="/campgrounds/<%= camp._id%>">
                <button class="'btn btn-danger my-1" type="submit">Cancel</button>
            </form>
            
            <form action="http://localhost:3000/campgrounds">
                <div><button class="'btn btn-primary my-1" type="submit">All campgrounds</button></div>
                
            </form>
        </body>
        </div>
        
</div>
    